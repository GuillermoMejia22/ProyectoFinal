version: "3.1"
rules:
  - rule: Di Hola
    steps:
    - intent: saludar
    - action: action_saludo

  - rule: Say goodbye anytime the user says goodbye
    steps:
    - intent: despedirse
    - action: action_despedida

  - rule: Say 'I am a bot' anytime the user challenges
    steps:
    - intent: bot_challenge
    - action: utter_soy_un_bot
  
  - rule: Di de nada cada que te agradezcan
    steps:
    - intent: agradecer_ayuda
    - action: utter_de_nada

  - rule: Activar Form Datos Generales
    steps:
    - intent: solicitar_imc
    - action: datos_generales_form
    - active_loop: datos_generales_form

  - rule: Submit Form Datos Generales
    condition:
    - active_loop: datos_generales_form
    steps:
    - action: datos_generales_form
    - active_loop: null
    - slot_was_set:
      - requested_slot: null
    - action: action_calcular_imc

  - rule: Desactivar Form Datos Generales desconociendo Peso
    steps:
    - intent: no_se_peso
    - action: action_deactivate_loop
    - active_loop: null
    - action: utter_necesito_dato

  - rule: Desactivar Form Datos Generales desconociendo Estatura
    steps:
    - intent: no_se_estatura
    - action: action_deactivate_loop
    - active_loop: null
    - action: utter_necesito_dato

  - rule: Responde con la definicion de diabetes
    steps:
    - intent: que_es_la_diabetes
    - action: utter_que_es_la_diabetes
  
  - rule: Detecta caso de riesgo
    steps:
    - intent: casos_riesgo
    - action: utter_persona_riesgo
  
  - rule: Explica casos de riesgo
    steps:
    - intent: factores_riesgo_diabetes
    - action: utter_casos_riesgo

  - rule: Detecta sintoma
    steps:
    - intent: decir_sintomas
    - action: utter_sintoma_detectado
    - action: action_manda_imagen

  - rule: Explica sintomas
    steps:
    - intent: explicar_sintomas
    - action: action_manda_imagen

  - rule: Di tipos
    steps:
    - intent: tipos_diabetes
    - action: utter_explicar_tipos

  - rule: Di cura
    steps:
    - intent: conocer_cura
    - action: utter_cura_diabetes
  
  - rule: Di como se controla la diabetes
    steps:
    - intent: controlar_diabetes
    - action: action_manda_imagen
  
  - rule: Di la dieta general de la diabetes
    steps:
    - intent: dieta_diabetes
    - action: action_manda_imagen

  - rule: Alimentos 
    steps:
    - intent: dar_alimentos
    - action: utter_buenos_alimentos
    - action: action_manda_imagen

  - rule: Cuidados
    steps:
    - intent: otros_cuidados
    - action: action_manda_imagen
  
  - rule: Prevencion de diabetes
    steps:
    - intent: prevencion
    - action: utter_prevencion
  
  - rule: Habitos buenos
    steps:
    - intent: buenos_habitos
    - action: utter_buenos_habitos
    - action: utter_prevencion

  - rule: Di malos habitos
    steps:
    - intent: decir_malos_habitos
    - action: utter_malos_habitos
    - action: utter_prevencion

  - rule: Di las complicaciones
    steps:
    - intent: complicaciones
    - action: utter_complicaciones
    - action: utter_causa_muerte

  - rule: Di las causas
    steps: 
    - intent: decir_causas
    - action: utter_causas
    - action: utter_causa_muerte

  - rule: Define Hiperglucemia
    steps:
    - intent: hiperglucemia
    - action: utter_hiperglucemia

  - rule: Explica Tipo Diabetes
    steps:
    - intent: explica_tipo_diabetes
    - action: action_explica_tipos

  - rule: Explica otro Tipo
    steps:
    - intent: otro_tipo
    - action: utter_preguntar_tipo
  
  - rule: Di fuente
    steps:
    - intent: fuentes
    - action: utter_decir_algunas_fuentes
  
  - rule: Manda un video
    steps:
    - intent: obtener_videos
    - action: utter_enviar_video

  - rule: Explica glucosa
    steps:
    - intent: explica_glucosa
    - action: utter_explica_glucosa

  - rule: Explica Hipoglucemia
    steps:
    - intent: explica_hipoglucemia
    - action: utter_explica_hipoglucemia

  - rule: Da consejos para reducir la glucosa
    steps:
    - intent: bajar_azucar
    - action: utter_di_fuente
    - action: utter_como_reducir_azucar